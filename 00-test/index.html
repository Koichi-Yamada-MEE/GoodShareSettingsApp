<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <title>エアコン設定（無線LAN内蔵/メニューボタンなし）｜三菱電機ホームソリューション ［マルチエリア空調］ Good Share！（グッシェア）｜三菱電機</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- demoApp JSON -->
  <script src="../assets/js/01-json-rac-wifi-no-menu.js"></script>

  <!-- demoApp CSS -->
  <!-- <link rel="stylesheet" href="../assets/css/demo-app.css"> -->
  <!-- <link rel="stylesheet" href="../assets/css/drawer-menu.css"> -->

  <!-- demoApp Position -->
  <link rel="stylesheet" href="../assets/css/elements-position.css">

  <!-- Bootstrap CSS/ICON -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <!-- Swiper CSS/Custom -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  <link rel="stylesheet" href="../assets/css/swiper-custom.css">
  <!-- Tippy -->
  <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css" />
  <link rel="stylesheet" href="../assets/css/tippy-custom.css" />
  <style>
    html,
    body {
      width: 100%;
      height: 100%;
      margin: 0;
    }

    .app-frame {
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
    }

    .app-main {
      /* 中身が少ない場合に余白が見えるように */
      display: block;
    }

    .app-footer {
      /* padding: 1rem 1.5rem; */
      border-top: 1px solid #dee2e6;
      font-size: 1.125rem;
      /* 18px */
      line-height: 1.6;
    }

    .swiper-slide {
      overflow-y: auto;
    }

    .swiper-slide img {
      width: 375px;
      height: auto;
    }
  </style>
</head>

<body class="bg-light d-flex justify-content-center">
  <div class="app-frame d-flex flex-column" style="width: 810px; height: 1080px;">

    <main class="app-main d-block overflow-y-auto overflow-x-hidden" style="height: 80%">
      <div class="swiper">
        <!-- Additional required wrapper -->
        <div class="swiper-wrapper">
            <!-- create slide -->
        </div>
        <!-- pagination -->
        <div class="swiper-pagination"></div>
        <!-- navigation buttons -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </main>

    <footer class="app-footer overflow-y-auto p-3" style="height: 20%">
      <!-- create footer content -->
      <div class="footer-content" id="footerContent" class=""></div>
    </footer>

    <!-- create content modal -->
    <div class="content-modal"></div>
    <!-- create drawer menu -->
    <div class="drawer-menu"></div>

  </div>
  <!-- Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <!-- demoApp -->
  <script src="../assets/js/demo-app.js"></script>
  <!-- Swiper -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <!-- Tippy -->
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="https://unpkg.com/tippy.js@6"></script>

  <script>

    const updateFooter = (index) => {
      const footerContent = document.getElementById('footerContent');
      footerContent.innerHTML =
        demoAppJson.slides[index].footerContent || '';
    };

    document.addEventListener('DOMContentLoaded', () => {
      // Create slides based on JSON data
      const createSlides = () => {
        const slideCount = demoAppJson.slides.length;
        const wrapper = document.getElementsByClassName('swiper-wrapper')[0];
        for (let i = 0; i < slideCount; i++) {
          const slide = document.createElement('div');
          slide.className = 'swiper-slide';
          slide.innerHTML = `
        <div class="swiper-slide_holder position-relative">
          <img src="${demoAppJson.slides[i].imagePath}" alt="${demoAppJson.slides[i].alt}" />
          <div id="${demoAppJson.slides[i].tooltipTarget}"></div>
        </div>
      `;
          wrapper.appendChild(slide);
        }
      };
      // スライドを作成
      createSlides();

      // slides生成後に初期化
      const params = new URLSearchParams(window.location.search);
      const slideIndex = parseInt(params.get('slide')) || 0;

      const swiper = new Swiper('.swiper', {
        initialSlide: slideIndex,
        pagination: {
          el: '.swiper-pagination',
          type: "fraction",
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
      });
      // 初期フッター表示
      updateFooter(slideIndex);

      // create tippy instances
      const tooltipsInstances = demoAppJson.slides
        .filter(slide => slide.tooltipTarget && slide.tooltipDescription)
        .flatMap(({ tooltipTarget, tooltipDescription }) =>
          tippy(`#${tooltipTarget}`, {
            content: tooltipDescription,
            allowHTML: true,
            trigger: 'manual',
            placement: 'bottom',
            hideOnClick: false,
            interactive: true,
            theme: 'gradient',
            maxWidth: 375, // px
            appendTo: () => document.querySelector('.swiper'),
          })
        );

      // 初期スライドのツールチップを強制表示
      const initialTooltip = tooltipsInstances[slideIndex];
      initialTooltip?.show();

      // スライド切替時にフッター更新
      swiper.on('slideChangeTransitionEnd', () => {
                // hide all tooltips
        tooltipsInstances.forEach(instance => instance.hide());

        // show current tooltip
        const activeTooltip = tooltipsInstances[swiper.activeIndex];
        activeTooltip?.show();

        // 矢印のないツールチップを設定
        const noneArrowTooltipId = [8, 22];
        if (noneArrowTooltipId.includes(activeTooltip.id))
        activeTooltip.setProps({
          arrow: false,
        });

        updateFooter(swiper.activeIndex);
      });
    });




  </script>
</body>

</html>